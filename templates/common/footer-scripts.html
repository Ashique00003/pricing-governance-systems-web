{% load staticfiles %}
<!-- begin::Global Theme Bundle -->
<script
        src="{% static 'assets/vendors/base/vendors.bundle.js' %}"
        type="text/javascript"
></script>
<script
        src="{% static 'assets/default/base/scripts.bundle.js' %}"
        type="text/javascript"
></script>

<!-- end::Global Theme Bundle -->

<!-- begin::Page Vendors -->
<script
        src="{% static 'assets/snippets/custom/pages/user/login.js' %}"
        type="text/javascript"
></script>
<!-- end::Page Vendors -->

<!-- begin::Page Scripts -->
<script
        src="{% static 'assets/app/js/dashboard.js' %}"
        type="text/javascript"
></script>
<script
        src="{% static 'assets/default/custom/crud/forms/validation/form-controls.js' %} "
        type="text/javascript"
></script>
<script
        src="{% static 'assets/vendors/custom/datatables/datatables.bundle.js' %}"
        type="text/javascript"
></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.10/lodash.min.js"></script>

<script
        type="text/javascript"
        src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.3/Chart.bundle.min.js"
></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/chartjs-plugin-annotation/0.5.5/chartjs-plugin-annotation.js"></script>
<script type="text/javascript" src="{% static "assets/app/js/chartjs-plugin-waterfall.min.js" %}"></script>
<script type="text/javascript" src="{% static 'assets/app/js/utils.js' %}"></script>
<script type="text/javascript" src="{% static 'assets/default/custom/crud/forms/widgets/select2.js' %}"></script>
<script src="{% static 'assets/app/js/jquery.canvasjs.min.js' %}" type="text/javascript"></script>
<script src="{% static 'assets/app/js/my-script.js' %}" type="text/javascript"></script>

<!-- end::Page Scripts -->

<script>
    let csrf_token = "{{csrf_token}}";

    function csrfSafeMethod(method) {
        // these HTTP methods do not require CSRF protection
        return /^(GET|HEAD|OPTIONS|TRACE)$/.test(method);
    }

    $.ajaxSetup({
        data: {
            csrfmiddlewaretoken: "{{csrf_token}}"
        }
    });
</script>

{% if request.session.is_logged_in %}
<link rel="stylesheet" href="https://cdn.datatables.net/1.10.19/css/dataTables.bootstrap4.min.css">
<!-- <script src="https://code.jquery.com/jquery-3.3.1.js"></script> -->
<script src="https://cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js"></script>
<script src="//cdn.datatables.net/plug-ins/1.10.19/sorting/natural.js"></script>
<script>
    $(document).ready(function () {
        $('.product-scatterplot-datatable').DataTable({
            "scrollY": "400px",
            "scrollCollapse": true,
            "paging": false,
            columnDefs: [
                { type: 'natural', targets: 2 }
            ],
            searching: false,
            info: false
        });

        $('.customer-scatterplot-datatable').DataTable({
            "scrollY": "400px",
            "scrollCollapse": true,
            "paging": false,
            searching: false,
            info: false
        });

        $('.waterfall-chart-datatable').DataTable({
            "scrollY": "400px",
            "scrollCollapse": true,
            "paging": false,
            columnDefs: [
                { type: 'natural', targets: 2 }
            ],
            searching: false,
            info: false
        });

        $('.histogram-datatable').DataTable({
            "scrollY": "400px",
            "scrollCollapse": true,
            "paging": false,
            searching: false,
            info: false,

            destroy: true,
                
        });

        // $('.product-customer-scatterplot-datatable').DataTable({
        //     "scrollY": "400px",
        //     "scrollCollapse": true,
        //     "paging": false,
        //     columnDefs: [
        //         { type: 'natural', targets: 1 }
        //     ],
        //     searching: false,
        //     info: false,
        //     destroy: true,
        // });
        
    });
</script>
{% endif %}
